{"ast":null,"code":"import _slicedToArray from\"/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import'../index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Blog=function Blog(_ref){var blog=_ref.blog,updateBlog=_ref.updateBlog,user=_ref.user,removeBlog=_ref.removeBlog;var blogStyle={paddingTop:2,paddingLeft:2,paddingBottom:2,border:'solid',borderWidth:1,marginBottom:2,marginTop:2};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var _useState3=useState(parseInt(blog.likes)),_useState4=_slicedToArray(_useState3,2),likes=_useState4[0],setLikes=_useState4[1];var showWhenVisible={display:user.username===blog.user.username?'':'none'};var toggleVisibility=function toggleVisibility(){setVisible(!visible);};var deleteBlog=function deleteBlog(){removeBlog(blog.id,user.token,blog);};var addLike=function addLike(event){event.preventDefault();updateBlog(blog.id,{title:blog.title,author:blog.author,url:blog.url,likes:likes+1,user:blog.user.id});setLikes(likes+1);};if(visible){return/*#__PURE__*/_jsxs(\"div\",{style:blogStyle,className:\"blog\",children:[blog.title,\" \",blog.author,\" \",/*#__PURE__*/_jsx(\"button\",{onClick:toggleVisibility,children:\"hide\"}),/*#__PURE__*/_jsx(\"p\",{children:blog.url}),/*#__PURE__*/_jsxs(\"p\",{children:[likes,/*#__PURE__*/_jsx(\"button\",{id:\"like-button\",onClick:addLike,children:\"Like\"})]}),/*#__PURE__*/_jsx(\"p\",{children:blog.user.username}),/*#__PURE__*/_jsx(\"div\",{style:showWhenVisible,children:/*#__PURE__*/_jsx(\"button\",{id:\"remove-button\",onClick:deleteBlog,children:\"Remove\"})})]});}else{return/*#__PURE__*/_jsxs(\"div\",{style:blogStyle,className:\"blog\",children:[blog.title,\" \",blog.author,\" \",/*#__PURE__*/_jsx(\"button\",{onClick:toggleVisibility,children:\"view\"})]});}};export default Blog;","map":{"version":3,"sources":["/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/src/components/Blog.js"],"names":["useState","Blog","blog","updateBlog","user","removeBlog","blogStyle","paddingTop","paddingLeft","paddingBottom","border","borderWidth","marginBottom","marginTop","visible","setVisible","parseInt","likes","setLikes","showWhenVisible","display","username","toggleVisibility","deleteBlog","id","token","addLike","event","preventDefault","title","author","url"],"mappings":"8KAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAO,cAAP,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAA4C,IAAzCC,CAAAA,IAAyC,MAAzCA,IAAyC,CAAnCC,UAAmC,MAAnCA,UAAmC,CAAvBC,IAAuB,MAAvBA,IAAuB,CAAjBC,UAAiB,MAAjBA,UAAiB,CACvD,GAAMC,CAAAA,SAAS,CAAG,CAChBC,UAAU,CAAE,CADI,CAEhBC,WAAW,CAAE,CAFG,CAGhBC,aAAa,CAAE,CAHC,CAIhBC,MAAM,CAAE,OAJQ,CAKhBC,WAAW,CAAE,CALG,CAMhBC,YAAY,CAAE,CANE,CAOhBC,SAAS,CAAE,CAPK,CAAlB,CADuD,cAUzBb,QAAQ,CAAC,KAAD,CAViB,wCAUhDc,OAVgD,eAUvCC,UAVuC,8BAW7Bf,QAAQ,CAACgB,QAAQ,CAACd,IAAI,CAACe,KAAN,CAAT,CAXqB,yCAWhDA,KAXgD,eAWzCC,QAXyC,eAYvD,GAAMC,CAAAA,eAAe,CAAG,CAAEC,OAAO,CAAEhB,IAAI,CAACiB,QAAL,GAAgBnB,IAAI,CAACE,IAAL,CAAUiB,QAA1B,CAAqC,EAArC,CAA0C,MAArD,CAAxB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7BP,UAAU,CAAC,CAACD,OAAF,CAAV,CACD,CAFD,CAIA,GAAMS,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBlB,UAAU,CAACH,IAAI,CAACsB,EAAN,CAASpB,IAAI,CAACqB,KAAd,CAAqBvB,IAArB,CAAV,CACD,CAFD,CAIA,GAAMwB,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CACzBA,KAAK,CAACC,cAAN,GACAzB,UAAU,CAACD,IAAI,CAACsB,EAAN,CAAS,CACjBK,KAAK,CAAE3B,IAAI,CAAC2B,KADK,CAEjBC,MAAM,CAAE5B,IAAI,CAAC4B,MAFI,CAGjBC,GAAG,CAAE7B,IAAI,CAAC6B,GAHO,CAIjBd,KAAK,CAAEA,KAAK,CAAG,CAJE,CAKjBb,IAAI,CAAEF,IAAI,CAACE,IAAL,CAAUoB,EALC,CAAT,CAAV,CAQAN,QAAQ,CAACD,KAAK,CAAG,CAAT,CAAR,CACH,CAXC,CAaA,GAAGH,OAAH,CAAW,CACT,mBACE,aAAK,KAAK,CAAER,SAAZ,CAAuB,SAAS,CAAC,MAAjC,WACGJ,IAAI,CAAC2B,KADR,KACgB3B,IAAI,CAAC4B,MADrB,kBAC6B,eAAQ,OAAO,CAAER,gBAAjB,kBAD7B,cAEE,mBAAIpB,IAAI,CAAC6B,GAAT,EAFF,cAGE,qBAAId,KAAJ,cAAU,eAAQ,EAAE,CAAC,aAAX,CAAyB,OAAO,CAAES,OAAlC,kBAAV,GAHF,cAIE,mBAAIxB,IAAI,CAACE,IAAL,CAAUiB,QAAd,EAJF,cAKE,YAAK,KAAK,CAAEF,eAAZ,uBACE,eAAQ,EAAE,CAAC,eAAX,CAA2B,OAAO,CAAEI,UAApC,oBADF,EALF,GADF,CAWD,CAZD,IAYK,CACH,mBACE,aAAK,KAAK,CAAEjB,SAAZ,CAAuB,SAAS,CAAC,MAAjC,WACGJ,IAAI,CAAC2B,KADR,KACgB3B,IAAI,CAAC4B,MADrB,kBAC6B,eAAQ,OAAO,CAAER,gBAAjB,kBAD7B,GADF,CAKD,CACF,CAtDD,CAwDA,cAAerB,CAAAA,IAAf","sourcesContent":["import { useState } from 'react'\nimport '../index.css'\n\nconst Blog = ({ blog, updateBlog, user, removeBlog }) => {\n  const blogStyle = {\n    paddingTop: 2,\n    paddingLeft: 2,\n    paddingBottom: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 2,\n    marginTop: 2\n  }\n  const [visible, setVisible] = useState(false)\n  const [likes, setLikes] = useState(parseInt(blog.likes))\n  const showWhenVisible = { display: user.username===blog.user.username ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  const deleteBlog = () => {\n    removeBlog(blog.id,user.token, blog)\n  }\n\n  const addLike = (event) => {\n    event.preventDefault()\n    updateBlog(blog.id,{\n      title: blog.title,\n      author: blog.author,\n      url: blog.url,\n      likes: likes + 1,\n      user: blog.user.id\n    })\n\n    setLikes(likes + 1)\n}\n\n  if(visible){\n    return (\n      <div style={blogStyle} className='blog'>\n        {blog.title} {blog.author} <button onClick={toggleVisibility}>hide</button>\n        <p>{blog.url}</p>\n        <p>{likes}<button id=\"like-button\" onClick={addLike}>Like</button></p>\n        <p>{blog.user.username}</p>\n        <div style={showWhenVisible}>\n          <button id=\"remove-button\" onClick={deleteBlog}>Remove</button>\n        </div>\n      </div>\n    )\n  }else{\n    return (\n      <div style={blogStyle} className='blog'>\n        {blog.title} {blog.author} <button onClick={toggleVisibility}>view</button>\n      </div>\n    )\n  }\n}\n\nexport default Blog"]},"metadata":{},"sourceType":"module"}