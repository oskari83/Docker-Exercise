{"code":"(this[\"webpackJsonpbloglist-frontend\"]=this[\"webpackJsonpbloglist-frontend\"]||[]).push([[0],{42:function(e,t,n){\"use strict\";n.r(t);var r=n(1),c=n(17),a=n.n(c),i=n(4),o=n.n(i),u=n(6),s=n(2),l=(n(8),n(0)),j=function(e){var t=e.blog,n=e.updateBlog,c=e.user,a=e.removeBlog,i={paddingTop:2,paddingLeft:2,paddingBottom:2,border:\"solid\",borderWidth:1,marginBottom:2,marginTop:2},o=Object(r.useState)(!1),u=Object(s.a)(o,2),j=u[0],b=u[1],d=Object(r.useState)(parseInt(t.likes)),p=Object(s.a)(d,2),O=p[0],f=p[1],h={display:c.username===t.user.username?\"\":\"none\"},g=function(){b(!j)};return j?Object(l.jsxs)(\"div\",{style:i,className:\"blog\",children:[t.title,\" \",t.author,\" \",Object(l.jsx)(\"button\",{onClick:g,children:\"hide\"}),Object(l.jsx)(\"p\",{children:t.url}),Object(l.jsxs)(\"p\",{children:[O,Object(l.jsx)(\"button\",{id:\"like-button\",onClick:function(e){e.preventDefault(),n(t.id,{title:t.title,author:t.author,url:t.url,likes:O+1,user:t.user.id}),f(O+1)},children:\"Like\"})]}),Object(l.jsx)(\"p\",{children:t.user.username}),Object(l.jsx)(\"div\",{style:h,children:Object(l.jsx)(\"button\",{id:\"remove-button\",onClick:function(){a(t.id,c.token,t)},children:\"Remove\"})})]}):Object(l.jsxs)(\"div\",{style:i,className:\"blog\",children:[t.title,\" \",t.author,\" \",Object(l.jsx)(\"button\",{onClick:g,children:\"view\"})]})},b=n(5),d=n.n(b),p=\"/api/blogs\",O=null,f={getAll:function(){return d.a.get(p).then((function(e){return e.data}))},setToken:function(e){O=\"bearer \".concat(e)},create:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:O}},e.next=3,d.a.post(p,t,n);case 3:return r=e.sent,e.abrupt(\"return\",r.data);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(e,t){return d.a.put(\"\".concat(p,\"/\").concat(e),t).then((function(e){return e.data}))},remove:function(e,t){return d.a.delete(\"\".concat(p,\"/\").concat(e),{headers:{Authorization:t}}).then((function(e){return e.data}))}},h={login:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(\"/api/login\",t);case 2:return n=e.sent,e.abrupt(\"return\",n.data);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(e){var t=e.message,n=e.type;return null===t?null:1===n?Object(l.jsx)(\"div\",{className:\"notification\",children:t}):Object(l.jsx)(\"div\",{className:\"error\",children:t})},v=function(e){var t=e.createBlog,n=Object(r.useState)(\"\"),c=Object(s.a)(n,2),a=c[0],i=c[1],o=Object(r.useState)(\"\"),u=Object(s.a)(o,2),j=u[0],b=u[1],d=Object(r.useState)(\"\"),p=Object(s.a)(d,2),O=p[0],f=p[1];return Object(l.jsxs)(\"div\",{className:\"formDiv\",children:[Object(l.jsx)(\"div\",{children:Object(l.jsx)(\"h2\",{children:\"Create new\"})}),Object(l.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault(),t({title:a,author:j,url:O}),i(\"\"),b(\"\"),f(\"\")},children:[Object(l.jsxs)(\"p\",{children:[\"Title:\",Object(l.jsx)(\"input\",{id:\"title-input\",value:a,onChange:function(e){i(e.target.value)}})]}),Object(l.jsxs)(\"p\",{children:[\"Author:\",Object(l.jsx)(\"input\",{id:\"author-input\",value:j,onChange:function(e){b(e.target.value)}})]}),Object(l.jsxs)(\"p\",{children:[\"Url:\",Object(l.jsx)(\"input\",{id:\"url-input\",value:O,onChange:function(e){f(e.target.value)}})]}),Object(l.jsx)(\"button\",{id:\"create-button\",type:\"submit\",children:\"Create\"})]})]})},x=Object(r.forwardRef)((function(e,t){var n=Object(r.useState)(!1),c=Object(s.a)(n,2),a=c[0],i=c[1],o={display:a?\"none\":\"\"},u={display:a?\"\":\"none\"},j=function(){i(!a)};return Object(r.useImperativeHandle)(t,(function(){return{toggleVisibility:j}})),Object(l.jsxs)(\"div\",{children:[Object(l.jsx)(\"div\",{style:o,children:Object(l.jsx)(\"button\",{onClick:j,children:e.buttonLabel})}),Object(l.jsxs)(\"div\",{style:u,children:[e.children,Object(l.jsx)(\"button\",{onClick:j,children:\"cancel\"})]})]})}));x.displayName=\"Togglable\";var m=x,w=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(\"\"),i=Object(s.a)(a,2),b=i[0],d=i[1],p=Object(r.useState)(\"\"),O=Object(s.a)(p,2),x=O[0],w=O[1],k=Object(r.useState)(null),y=Object(s.a)(k,2),S=y[0],C=y[1],B=Object(r.useState)(null),T=Object(s.a)(B,2),N=T[0],I=T[1],A=Object(r.useRef)();Object(r.useEffect)((function(){f.getAll().then((function(e){return c(e.sort((function(e,t){return parseInt(t.likes)-parseInt(e.likes)})))}))}),[]),Object(r.useEffect)((function(){var e=window.localStorage.getItem(\"loggedBlogappUser\");if(e){var t=JSON.parse(e);C(t),f.setToken(t.token)}}),[]);var L=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(\"loggin in\"),e.prev=2,e.next=5,h.login({username:b,password:x});case 5:n=e.sent,window.localStorage.setItem(\"loggedBlogappUser\",JSON.stringify(n)),f.setToken(n.token),C(n),d(\"\"),w(\"\"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),I(\"wrong username or password\"),setTimeout((function(){I(null)}),5e3);case 17:case\"end\":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e,t){f.update(e,t)},J=function(e,t,r){window.confirm(\"Remove blog \".concat(r.title,\" by \").concat(r.author,\"?\"))&&f.remove(e,\"bearer \".concat(t)).then((function(){c(n.filter((function(t){return t.id!==e}))),I(\"Blog Deleted\"),setTimeout((function(){I(null)}),5e3)}))};return null===S?Object(l.jsxs)(\"div\",{children:[Object(l.jsx)(g,{message:N,type:0}),Object(l.jsx)(\"h2\",{children:\"Log in to application\"}),Object(l.jsxs)(\"form\",{onSubmit:L,children:[Object(l.jsxs)(\"div\",{children:[\"username\",Object(l.jsx)(\"input\",{id:\"username\",type:\"text\",value:b,name:\"Username\",onChange:function(e){var t=e.target;return d(t.value)}})]}),Object(l.jsxs)(\"div\",{children:[\"password\",Object(l.jsx)(\"input\",{id:\"password\",type:\"password\",value:x,name:\"Password\",onChange:function(e){var t=e.target;return w(t.value)}})]}),Object(l.jsx)(\"button\",{id:\"login-button\",type:\"submit\",children:\"login\"})]})]}):Object(l.jsxs)(\"div\",{children:[Object(l.jsx)(\"h3\",{children:\"BLOGS\"}),Object(l.jsx)(g,{message:N,type:1}),Object(l.jsx)(\"div\",{children:Object(l.jsxs)(\"p\",{children:[S.name,\" logged in \",Object(l.jsx)(\"button\",{onClick:function(){return C(null),void window.localStorage.clear()},children:\"logout\"})]})}),n.map((function(e){return Object(l.jsx)(j,{blog:e,updateBlog:D,user:S,removeBlog:J},e.id)})),Object(l.jsx)(m,{buttonLabel:\"create new blog\",ref:A,children:Object(l.jsx)(v,{createBlog:function(e){A.current.toggleVisibility(),f.create(e).then((function(t){c(n.concat(t)),I(\"A new blog \".concat(e.title,\" by \").concat(e.author,\" added\")),setTimeout((function(){I(null)}),5e3)}))}})})]})};a.a.render(Object(l.jsx)(w,{}),document.getElementById(\"root\"))},8:function(e,t,n){}},[[42,1,2]]]);","name":"static/js/main.e1216131.chunk.js","map":{"version":3,"sources":["static/js/main.e1216131.chunk.js"],"names":["this","push","42","module","__webpack_exports__","__webpack_require__","r","react","react_dom","react_dom_default","n","regenerator","regenerator_default","asyncToGenerator","slicedToArray","jsx_runtime","components_Blog","_ref","blog","updateBlog","user","removeBlog","blogStyle","paddingTop","paddingLeft","paddingBottom","border","borderWidth","marginBottom","marginTop","_useState","Object","_useState2","visible","setVisible","_useState3","parseInt","likes","_useState4","setLikes","showWhenVisible","display","username","toggleVisibility","style","className","children","title","author","onClick","url","id","event","preventDefault","token","axios","axios_default","baseUrl","blogs_token","services_blogs","getAll","a","get","then","response","data","setToken","newToken","concat","create","mark","_callee","newObject","config","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","_x","apply","arguments","update","put","remove","delete","services_login","login","credentials","components_Notification","message","type","components_BlogCreateForm","createBlog","newTitle","setNewTitle","newAuthor","setNewAuthor","_useState5","_useState6","newUrl","setNewUrl","onSubmit","value","onChange","target","Togglable","props","ref","hideWhenVisible","buttonLabel","displayName","components_Togglable","src_App","blogs","setBlogs","setUsername","password","setPassword","_useState7","_useState8","setUser","_useState9","_useState10","errorMessage","setErrorMessage","blogFormRef","sort","blg","blg2","loggedUserJSON","window","localStorage","getItem","_user","JSON","parse","handleLogin","_user2","console","log","setItem","stringify","t0","setTimeout","blogObject","tok","confirm","filter","per","name","_ref2","_ref3","clear","map","current","returnedBlog","render","document","getElementById","8","exports"],"mappings":"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"},"input":"(this[\"webpackJsonpbloglist-frontend\"] = this[\"webpackJsonpbloglist-frontend\"] || []).push([[0],{\n\n/***/ 42:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(17);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(4);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Blog.js\nvar Blog_Blog=function Blog(_ref){var blog=_ref.blog,updateBlog=_ref.updateBlog,user=_ref.user,removeBlog=_ref.removeBlog;var blogStyle={paddingTop:2,paddingLeft:2,paddingBottom:2,border:'solid',borderWidth:1,marginBottom:2,marginTop:2};var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(parseInt(blog.likes)),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),likes=_useState4[0],setLikes=_useState4[1];var showWhenVisible={display:user.username===blog.user.username?'':'none'};var toggleVisibility=function toggleVisibility(){setVisible(!visible);};var deleteBlog=function deleteBlog(){removeBlog(blog.id,user.token,blog);};var addLike=function addLike(event){event.preventDefault();updateBlog(blog.id,{title:blog.title,author:blog.author,url:blog.url,likes:likes+1,user:blog.user.id});setLikes(likes+1);};if(visible){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:blogStyle,className:\"blog\",children:[blog.title,\" \",blog.author,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:toggleVisibility,children:\"hide\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:blog.url}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[likes,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"like-button\",onClick:addLike,children:\"Like\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:blog.user.username}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:showWhenVisible,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"remove-button\",onClick:deleteBlog,children:\"Remove\"})})]});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:blogStyle,className:\"blog\",children:[blog.title,\" \",blog.author,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:toggleVisibility,children:\"view\"})]});}};/* harmony default export */ var components_Blog = (Blog_Blog);\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(5);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/blogs.js\nvar baseUrl='/api/blogs';var blogs_token=null;var setToken=function setToken(newToken){blogs_token=\"bearer \".concat(newToken);};var blogs_getAll=function getAll(){var request=axios_default.a.get(baseUrl);return request.then(function(response){return response.data;});};var create=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(newObject){var config,response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{Authorization:blogs_token}};_context.next=3;return axios_default.a.post(baseUrl,newObject,config);case 3:response=_context.sent;return _context.abrupt(\"return\",response.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function create(_x){return _ref.apply(this,arguments);};}();var blogs_update=function update(id,newObject){var request=axios_default.a.put(\"\".concat(baseUrl,\"/\").concat(id),newObject);return request.then(function(response){return response.data;});};var blogs_remove=function remove(id,token){var request=axios_default.a.delete(\"\".concat(baseUrl,\"/\").concat(id),{headers:{Authorization:token}});return request.then(function(response){return response.data;});};/* harmony default export */ var services_blogs = ({getAll:blogs_getAll,setToken:setToken,create:create,update:blogs_update,remove:blogs_remove});\n// CONCATENATED MODULE: ./src/services/login.js\nvar login_baseUrl='/api/login';var login=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(credentials){var response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios_default.a.post(login_baseUrl,credentials);case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function login(_x){return _ref.apply(this,arguments);};}();/* harmony default export */ var services_login = ({login:login});\n// CONCATENATED MODULE: ./src/components/Notification.js\nvar Notification_Notification=function Notification(_ref){var message=_ref.message,type=_ref.type;if(message===null){return null;}if(type===1){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"notification\",children:message});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"error\",children:message});}};/* harmony default export */ var components_Notification = (Notification_Notification);\n// CONCATENATED MODULE: ./src/components/BlogCreateForm.js\nvar BlogCreateForm_BlogCreateForm=function BlogCreateForm(_ref){var createBlog=_ref.createBlog;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),newTitle=_useState2[0],setNewTitle=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newAuthor=_useState4[0],setNewAuthor=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newUrl=_useState6[0],setNewUrl=_useState6[1];var handleTitleChange=function handleTitleChange(event){setNewTitle(event.target.value);};var handleAuthorChange=function handleAuthorChange(event){setNewAuthor(event.target.value);};var handleUrlChange=function handleUrlChange(event){setNewUrl(event.target.value);};var addBlog=function addBlog(event){event.preventDefault();createBlog({title:newTitle,author:newAuthor,url:newUrl});setNewTitle('');setNewAuthor('');setNewUrl('');};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"formDiv\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Create new\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:addBlog,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Title:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"title-input\",value:newTitle,onChange:handleTitleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Author:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"author-input\",value:newAuthor,onChange:handleAuthorChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Url:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"url-input\",value:newUrl,onChange:handleUrlChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"create-button\",type:\"submit\",children:\"Create\"})]})]});};/* harmony default export */ var components_BlogCreateForm = (BlogCreateForm_BlogCreateForm);\n// CONCATENATED MODULE: ./src/components/Togglable.js\nvar Togglable=/*#__PURE__*/Object(react[\"forwardRef\"])(function(props,ref){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var hideWhenVisible={display:visible?'none':''};var showWhenVisible={display:visible?'':'none'};var toggleVisibility=function toggleVisibility(){setVisible(!visible);};Object(react[\"useImperativeHandle\"])(ref,function(){return{toggleVisibility:toggleVisibility};});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:hideWhenVisible,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:toggleVisibility,children:props.buttonLabel})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:showWhenVisible,children:[props.children,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:toggleVisibility,children:\"cancel\"})]})]});});Togglable.displayName='Togglable';/* harmony default export */ var components_Togglable = (Togglable);\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=function App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),user=_useState8[0],setUser=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),errorMessage=_useState10[0],setErrorMessage=_useState10[1];var blogFormRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){services_blogs.getAll().then(function(blogs){return setBlogs(blogs.sort(function(blg,blg2){return parseInt(blg2.likes)-parseInt(blg.likes);}));});},[]);Object(react[\"useEffect\"])(function(){var loggedUserJSON=window.localStorage.getItem('loggedBlogappUser');if(loggedUserJSON){var _user=JSON.parse(loggedUserJSON);//console.log(user)\nsetUser(_user);services_blogs.setToken(_user.token);}},[]);var handleLogin=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var _user2;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(\"loggin in\");_context.prev=2;_context.next=5;return services_login.login({username:username,password:password});case 5:_user2=_context.sent;window.localStorage.setItem('loggedBlogappUser',JSON.stringify(_user2));services_blogs.setToken(_user2.token);setUser(_user2);setUsername('');setPassword('');_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](2);setErrorMessage('wrong username or password');setTimeout(function(){setErrorMessage(null);},5000);case 17:case\"end\":return _context.stop();}}},_callee,null,[[2,13]]);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();var addBlog=function addBlog(blogObject){blogFormRef.current.toggleVisibility();services_blogs.create(blogObject).then(function(returnedBlog){setBlogs(blogs.concat(returnedBlog));setErrorMessage(\"A new blog \".concat(blogObject.title,\" by \").concat(blogObject.author,\" added\"));setTimeout(function(){setErrorMessage(null);},5000);});};var updateBlog=function updateBlog(id,blogObject){services_blogs.update(id,blogObject);};var removeBlog=function removeBlog(id,tok,blog){if(window.confirm(\"Remove blog \".concat(blog.title,\" by \").concat(blog.author,\"?\"))){services_blogs.remove(id,\"bearer \".concat(tok)).then(function(){setBlogs(blogs.filter(function(per){return per.id!==id;}));setErrorMessage(\"Blog Deleted\");setTimeout(function(){setErrorMessage(null);},5000);});}};var handleLogout=function handleLogout(){setUser(null);window.localStorage.clear();};if(user===null){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Notification,{message:errorMessage,type:0}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Log in to application\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"username\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"username\",type:\"text\",value:username,name:\"Username\",onChange:function onChange(_ref2){var target=_ref2.target;return setUsername(target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"password\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"password\",type:\"password\",value:password,name:\"Password\",onChange:function onChange(_ref3){var target=_ref3.target;return setPassword(target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"login-button\",type:\"submit\",children:\"login\"})]})]});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"BLOGS\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Notification,{message:errorMessage,type:1}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[user.name,\" logged in \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return handleLogout();},children:\"logout\"})]})}),blogs.map(function(blog){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Blog,{blog:blog,updateBlog:updateBlog,user:user,removeBlog:removeBlog},blog.id);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Togglable,{buttonLabel:\"create new blog\",ref:blogFormRef,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_BlogCreateForm,{createBlog:addBlog})})]});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 8:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[42,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/src/components/Blog.js","/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/src/services/blogs.js","/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/src/services/login.js","/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/src/components/Notification.js","/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/src/components/BlogCreateForm.js","/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/src/components/Togglable.js","/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/src/App.js","/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/src/index.js","/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/node_modules/postcss-loader/src/index.js??postcss!/Users/oskaripeltonen/Desktop/Docker-ex/Docker-Exercise/src/index.css"],"names":["Blog","blog","updateBlog","user","removeBlog","blogStyle","paddingTop","paddingLeft","paddingBottom","border","borderWidth","marginBottom","marginTop","useState","visible","setVisible","parseInt","likes","setLikes","showWhenVisible","display","username","toggleVisibility","deleteBlog","id","token","addLike","event","preventDefault","title","author","url","baseUrl","setToken","newToken","getAll","request","axios","get","then","response","data","create","newObject","config","headers","Authorization","post","update","put","remove","delete","login","credentials","Notification","message","type","BlogCreateForm","createBlog","newTitle","setNewTitle","newAuthor","setNewAuthor","newUrl","setNewUrl","handleTitleChange","target","value","handleAuthorChange","handleUrlChange","addBlog","Togglable","forwardRef","props","ref","hideWhenVisible","useImperativeHandle","buttonLabel","children","displayName","App","blogs","setBlogs","setUsername","password","setPassword","setUser","errorMessage","setErrorMessage","blogFormRef","useRef","useEffect","blogService","sort","blg","blg2","loggedUserJSON","window","localStorage","getItem","JSON","parse","handleLogin","console","log","loginService","setItem","stringify","setTimeout","blogObject","current","returnedBlog","concat","tok","confirm","filter","per","handleLogout","clear","name","map","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import { useState } from 'react'\nimport '../index.css'\n\nconst Blog = ({ blog, updateBlog, user, removeBlog }) => {\n  const blogStyle = {\n    paddingTop: 2,\n    paddingLeft: 2,\n    paddingBottom: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 2,\n    marginTop: 2\n  }\n  const [visible, setVisible] = useState(false)\n  const [likes, setLikes] = useState(parseInt(blog.likes))\n  const showWhenVisible = { display: user.username===blog.user.username ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  const deleteBlog = () => {\n    removeBlog(blog.id,user.token, blog)\n  }\n\n  const addLike = (event) => {\n    event.preventDefault()\n    updateBlog(blog.id,{\n      title: blog.title,\n      author: blog.author,\n      url: blog.url,\n      likes: likes + 1,\n      user: blog.user.id\n    })\n\n    setLikes(likes + 1)\n}\n\n  if(visible){\n    return (\n      <div style={blogStyle} className='blog'>\n        {blog.title} {blog.author} <button onClick={toggleVisibility}>hide</button>\n        <p>{blog.url}</p>\n        <p>{likes}<button id=\"like-button\" onClick={addLike}>Like</button></p>\n        <p>{blog.user.username}</p>\n        <div style={showWhenVisible}>\n          <button id=\"remove-button\" onClick={deleteBlog}>Remove</button>\n        </div>\n      </div>\n    )\n  }else{\n    return (\n      <div style={blogStyle} className='blog'>\n        {blog.title} {blog.author} <button onClick={toggleVisibility}>view</button>\n      </div>\n    )\n  }\n}\n\nexport default Blog","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id,token) => {\n  const request = axios.delete(`${baseUrl}/${id}`,{\n    headers: {\n      Authorization: token\n    } })\n  return request.then(response => response.data)\n}\n\nexport default { getAll, setToken, create, update, remove }","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import React from 'react'\nimport '../index.css'\n\nconst Notification = ({ message,type }) => {\n  if (message === null) {\n    return null\n  }\n\n  if(type===1){\n    return (\n      <div className=\"notification\">\n        {message}\n      </div>\n    )\n  }else{\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n}\n\nexport default Notification","import { useState } from 'react'\n\nconst BlogCreateForm = ({ createBlog }) => {\n  const [newTitle, setNewTitle] = useState('')\n  const [newAuthor, setNewAuthor] = useState('')\n  const [newUrl, setNewUrl] = useState('')\n\n  const handleTitleChange = (event) => {\n    setNewTitle(event.target.value)\n  }\n\n  const handleAuthorChange = (event) => {\n    setNewAuthor(event.target.value)\n  }\n\n  const handleUrlChange = (event) => {\n    setNewUrl(event.target.value)\n  }\n\n  const addBlog = (event) => {\n      event.preventDefault()\n      createBlog({\n        title: newTitle,\n        author: newAuthor,\n        url: newUrl\n      })\n      setNewTitle('')\n      setNewAuthor('')\n      setNewUrl('')\n  }\n\n  return (\n    <div className='formDiv'>\n      <div>\n        <h2>Create new</h2>\n      </div>\n      <form onSubmit={addBlog}>\n        <p>Title:<input id=\"title-input\" value={newTitle} onChange={handleTitleChange}/></p>\n        <p>Author:<input id=\"author-input\" value={newAuthor} onChange={handleAuthorChange}/></p>\n        <p>Url:<input id=\"url-input\" value={newUrl} onChange={handleUrlChange}/></p>\n        <button\n          id=\"create-button\"\n          type=\"submit\">Create\n        </button>\n      </form>\n    </div>\n  )\n}\n\nexport default BlogCreateForm","import { useState, useImperativeHandle, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\n\nconst Togglable = forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  useImperativeHandle(ref, () => {\n      return {\n          toggleVisibility\n      }\n  })\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div style={showWhenVisible}>\n        {props.children}\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  )\n})\n\nTogglable.propTypes = {\n  buttonLabel: PropTypes.string.isRequired\n}\n\nTogglable.displayName = 'Togglable'\n\nexport default Togglable","import React, { useState, useEffect, useRef } from 'react'\nimport Blog from './components/Blog'\nimport blogService from './services/blogs'\nimport loginService from './services/login'\nimport Notification from './components/Notification'\nimport BlogCreateForm from './components/BlogCreateForm'\nimport Togglable from './components/Togglable'\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const blogFormRef = useRef()\n\n  useEffect(() => {\n    blogService.getAll().then(blogs =>\n      setBlogs( blogs.sort(function (blg, blg2) {\n        return parseInt(blg2.likes) - parseInt(blg.likes)\n      }))\n    )\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      //console.log(user)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [])\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    console.log(\"loggin in\")\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n      window.localStorage.setItem(\n        'loggedBlogappUser', JSON.stringify(user)\n      )\n      blogService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage('wrong username or password')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const addBlog = (blogObject) => {\n    blogFormRef.current.toggleVisibility()\n    blogService\n      .create(blogObject)\n        .then(returnedBlog => {\n        setBlogs(blogs.concat(returnedBlog))\n        setErrorMessage(`A new blog ${blogObject.title} by ${blogObject.author} added`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n  }\n\n  const updateBlog = (id,blogObject) => {\n    blogService\n      .update(id,blogObject)\n  }\n\n  const removeBlog = (id, tok, blog) => {\n    if(window.confirm(`Remove blog ${blog.title} by ${blog.author}?`)){\n      blogService\n      .remove(id, `bearer ${tok}`)\n        .then(() => {\n        setBlogs(blogs.filter(per => per.id !== id))\n        setErrorMessage(`Blog Deleted`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n    }\n  }\n\n  const handleLogout = () => {\n    setUser(null)\n    window.localStorage.clear()\n  }\n\n  if (user === null) {\n    return (\n      <div>\n        <Notification message={errorMessage} type={0} />\n        <h2>Log in to application</h2>\n        <form onSubmit={handleLogin}>\n        <div>\n          username\n            <input\n            id=\"username\"\n            type=\"text\"\n            value={username}\n            name=\"Username\"\n            onChange={({ target }) => setUsername(target.value)}\n          />\n        </div>\n        <div>\n          password\n            <input\n            id=\"password\"\n            type=\"password\"\n            value={password}\n            name=\"Password\"\n            onChange={({ target }) => setPassword(target.value)}\n          />\n        </div>\n        <button id=\"login-button\" type=\"submit\">login</button>\n        </form>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <h3>BLOGS</h3>\n      <Notification message={errorMessage} type={1} />\n      <div>\n        <p>{user.name} logged in <button onClick={() => handleLogout()}>logout</button></p>\n      </div>\n      {blogs.map(blog =>\n        <Blog key={blog.id} blog={blog} updateBlog={updateBlog} user={user} removeBlog={removeBlog}/>\n      )}\n      <Togglable buttonLabel=\"create new blog\" ref={blogFormRef}>\n        <BlogCreateForm createBlog={addBlog}/>\n      </Togglable>\n    </div>\n\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))","// extracted by mini-css-extract-plugin"]}}